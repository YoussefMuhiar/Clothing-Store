<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stylish Threads</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
        }
        .page {
            min-height: calc(100vh - 8rem); /* Adjust for header and footer */
            padding-top: 5rem; /* Space for the fixed header */
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="fixed top-0 left-0 w-full bg-white shadow-md z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-900 logo" data-page="home">Stylish Threads</a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-gray-600 hover:text-gray-900 transition-colors duration-200" data-page="home">Home</a>
                <a href="#" class="text-gray-600 hover:text-gray-900 transition-colors duration-200" data-page="catalog">Catalog</a>
                <a href="#" class="text-gray-600 hover:text-gray-900 transition-colors duration-200" data-page="about">About</a>
                <a href="#" class="text-gray-600 hover:text-gray-900 transition-colors duration-200" data-page="contact">Contact</a>
            </div>
            <div class="flex items-center space-x-4">
                <button id="cart-btn" class="relative text-gray-600 hover:text-gray-900 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.182 1.706.707 1.706H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span id="cart-count" class="absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-red-500 text-white text-xs font-semibold rounded-full w-4 h-4 flex items-center justify-center">0</span>
                </button>
                <button id="mobile-menu-btn" class="md:hidden text-gray-600 hover:text-gray-900 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden bg-white shadow-lg py-4 px-6 space-y-4 hidden">
            <a href="#" class="block text-gray-600 hover:text-gray-900" data-page="home">Home</a>
            <a href="#" class="block text-gray-600 hover:text-gray-900" data-page="catalog">Catalog</a>
            <a href="#" class="block text-gray-600 hover:text-gray-900" data-page="about">About</a>
            <a href="#" class="block text-gray-600 hover:text-gray-900" data-page="contact">Contact</a>
        </div>
    </header>

    <main class="container mx-auto px-6">

        <!-- Home Page -->
        <section id="home-page" class="page">
            <div class="relative w-full rounded-3xl overflow-hidden shadow-xl mb-12">
                <div class="absolute inset-0 bg-gradient-to-r from-gray-900 to-gray-700 opacity-70"></div>
                <img src="https://images.unsplash.com/photo-1542270921523-d34360e290f6?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="New Collection" class="w-full h-96 object-cover object-center rounded-3xl filter blur-sm">
                <div class="absolute inset-0 flex flex-col items-center justify-center text-center text-white p-4">
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight mb-4">Discover Your Style</h1>
                    <p class="text-lg sm:text-xl lg:text-2xl font-light mb-8">Elevate your wardrobe with our latest arrivals.</p>
                    <button class="bg-white text-gray-900 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-200 transition-colors duration-300 transform hover:scale-105" data-page="catalog">Shop Now</button>
                </div>
            </div>

            <div class="mb-12">
                <h2 class="text-3xl font-bold text-center mb-8">Featured Products</h2>
                <div id="featured-products-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <!-- Featured products will be dynamically injected here -->
                </div>
            </div>
        </section>

        <!-- Catalog Page -->
        <section id="catalog-page" class="page hidden">
            <h1 class="text-4xl font-bold text-center mb-8">Our Catalog</h1>
            <div class="mb-6 max-w-xl mx-auto">
                <input type="text" id="product-search" placeholder="Search for products..." class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
            </div>
            <div id="product-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Products will be dynamically injected here -->
            </div>
        </section>

        <!-- Product Detail Page -->
        <section id="product-detail-page" class="page hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 flex flex-col md:flex-row items-center md:items-start gap-8">
                <img id="product-image" src="" alt="Product" class="w-full md:w-1/2 h-96 object-cover object-center rounded-lg shadow-md">
                <div class="w-full md:w-1/2 flex flex-col gap-4">
                    <h1 id="product-name" class="text-3xl font-bold text-gray-900"></h1>
                    <p id="product-price" class="text-xl font-semibold text-gray-600"></p>
                    <p id="product-description" class="text-gray-600 leading-relaxed"></p>
                    <div class="flex items-center gap-4 mt-4">
                        <button id="add-to-cart-detail" class="bg-gray-900 text-white px-8 py-3 rounded-full font-semibold hover:bg-gray-700 transition-colors duration-300">Add to Cart</button>
                        <button class="text-gray-600 hover:text-gray-900 transition-colors duration-200" onclick="renderPage('catalog')">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z" />
                            </svg>
                            Back to Catalog
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cart Page -->
        <section id="cart-page" class="page hidden">
            <h1 class="text-4xl font-bold text-center mb-8">Your Cart</h1>
            <div id="cart-items-container" class="space-y-6 mb-8">
                <!-- Cart items will be dynamically injected here -->
            </div>
            <div id="cart-summary" class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-end space-y-4">
                <div class="text-2xl font-bold">Total: <span id="cart-total">$0.00</span></div>
                <button id="checkout-btn" class="bg-green-500 text-white px-8 py-3 rounded-full font-semibold hover:bg-green-600 transition-colors duration-300">Proceed to Checkout</button>
                <button class="bg-gray-200 text-gray-800 px-8 py-3 rounded-full font-semibold hover:bg-gray-300 transition-colors duration-300" onclick="renderPage('catalog')">Continue Shopping</button>
            </div>
        </section>

        <!-- Checkout Page -->
        <section id="checkout-page" class="page hidden">
            <h1 class="text-4xl font-bold text-center mb-8">Checkout</h1>
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-2xl mx-auto">
                <form id="checkout-form" class="space-y-6">
                    <div>
                        <h2 class="text-2xl font-semibold mb-4">Shipping Information</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <input type="text" placeholder="First Name" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                            <input type="text" placeholder="Last Name" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                        </div>
                        <input type="text" placeholder="Address" class="w-full mt-4 px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4">
                            <input type="text" placeholder="City" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                            <input type="text" placeholder="State/Province" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                            <input type="text" placeholder="Zip Code" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                        </div>
                    </div>
                    <div>
                        <h2 class="text-2xl font-semibold mb-4">Payment Information</h2>
                        <input type="text" placeholder="Card Number" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4">
                            <input type="text" placeholder="MM/YY" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                            <input type="text" placeholder="CVC" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                            <input type="text" placeholder="Name on Card" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-gray-900 text-white px-6 py-4 rounded-full font-bold hover:bg-gray-700 transition-colors duration-300">Complete Purchase</button>
                </form>
            </div>
        </section>

        <!-- About Page -->
        <section id="about-page" class="page hidden">
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-3xl mx-auto text-center">
                <h1 class="text-4xl font-bold mb-4">Our Story</h1>
                <p class="text-gray-600 text-lg mb-6">Stylish Threads was born from a passion for fashion and a commitment to quality. We believe that what you wear is an expression of who you are. Our mission is to provide timeless, stylish, and comfortable clothing that empowers you to express your unique personality every day.</p>
                <p class="text-gray-600 text-lg">We source our materials responsibly and work with skilled artisans to ensure every piece is made with care and attention to detail. Thank you for choosing to be part of our journey.</p>
            </div>
        </section>

        <!-- Contact Page -->
        <section id="contact-page" class="page hidden">
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-xl mx-auto">
                <h1 class="text-4xl font-bold text-center mb-8">Contact Us</h1>
                <form class="space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
                        <input type="text" id="name" name="name" class="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                        <textarea id="message" name="message" rows="5" class="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 transition-shadow"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-gray-900 text-white px-6 py-4 rounded-full font-bold hover:bg-gray-700 transition-colors duration-300">Send Message</button>
                </form>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2023 Stylish Threads. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Message Box (Instead of alert()) -->
    <div id="message-box" class="fixed inset-x-0 bottom-8 z-50 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-300">
        <div class="bg-gray-900 text-white px-6 py-3 rounded-xl shadow-lg max-w-xs text-center transform translate-y-full transition-transform duration-300 pointer-events-auto">
            <p id="message-text"></p>
        </div>
    </div>

    <script type="text/javascript">
        // This is a local-only version of the cart. It will not be saved or synchronized with a database.
        
        // Product data has been expanded
        const products = [
            { id: 1, name: "The Classic Tee", price: 29.99, image: "https://images.unsplash.com/photo-1571026078347-19416b080708?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "A timeless, comfortable t-shirt for any occasion. Made from 100% organic cotton." },
            { id: 2, name: "Cozy Knit Sweater", price: 65.50, image: "https://images.unsplash.com/photo-1542385150-18451f2a3461?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Warm and soft, this sweater is perfect for a cool evening. Features a ribbed collar and cuffs." },
            { id: 3, name: "Essential Denim Jeans", price: 79.00, image: "https://images.unsplash.com/photo-1560969188-f54c9c22e4c4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Durable and stylish, these jeans are a wardrobe staple. Classic fit with a modern wash." },
            { id: 4, name: "Stylish Bomber Jacket", price: 110.00, image: "https://images.unsplash.com/photo-1605333792080-6927a3c3e72b?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "The perfect lightweight jacket for a trendy look. Features zippered pockets and a sleek silhouette." },
            { id: 5, name: "Flowy Summer Dress", price: 45.00, image: "https://images.unsplash.com/photo-1620794358896-1933c0812ed3?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Light and airy, this dress is ideal for warm weather. Floral print with adjustable straps." },
            { id: 6, name: "Leather Ankle Boots", price: 120.00, image: "https://images.unsplash.com/photo-1647466847124-b153835e3968?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Elevate your look with these comfortable and chic leather boots. Block heel for all-day wear." },
            { id: 7, name: "Chic Blazer", price: 95.00, image: "https://images.unsplash.com/photo-1549448896-291771746f36?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "A sophisticated blazer to polish any outfit. Single-button closure and tailored fit." },
            { id: 8, name: "Casual Hoodie", price: 55.00, image: "https://images.unsplash.com/photo-1617260535971-55c322b28c0b?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Soft and comfortable hoodie for everyday wear. Fleece-lined interior with a front pouch pocket." },
            { id: 9, name: "Running Shorts", price: 35.00, image: "https://images.unsplash.com/photo-1610477218695-021b14a27546?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Lightweight and breathable shorts, perfect for a workout or a casual day." },
            { id: 10, name: "Plaid Flannel Shirt", price: 48.00, image: "https://images.unsplash.com/photo-1605342415174-a0353c9f80a4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", description: "Classic plaid flannel that's perfect for layering. Made from a soft cotton blend." }
        ];

        let cart = [];

        const pages = ['home', 'catalog', 'product-detail', 'cart', 'checkout', 'about', 'contact'];
        const navLinks = document.querySelectorAll('[data-page]');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const cartBtn = document.getElementById('cart-btn');
        const productContainer = document.getElementById('product-container');
        const featuredProductsContainer = document.getElementById('featured-products-container');
        const cartItemsContainer = document.getElementById('cart-items-container');
        const cartTotalEl = document.getElementById('cart-total');
        const cartCountEl = document.getElementById('cart-count');
        const messageBox = document.getElementById('message-box');
        const messageText = document.getElementById('message-text');
        const productSearchInput = document.getElementById('product-search');

        // Show a custom message box instead of an alert
        function showMessage(text) {
            messageText.textContent = text;
            messageBox.classList.remove('opacity-0', 'translate-y-full', 'pointer-events-none');
            messageBox.classList.add('opacity-100', 'translate-y-0');
            setTimeout(() => {
                messageBox.classList.remove('opacity-100', 'translate-y-0');
                messageBox.classList.add('opacity-0', 'translate-y-full', 'pointer-events-none');
            }, 3000);
        }

        // Handles page navigation
        function renderPage(pageName, data = null) {
            pages.forEach(page => {
                const element = document.getElementById(`${page}-page`);
                if (element) {
                    element.classList.add('hidden');
                }
            });
            const currentPage = document.getElementById(`${pageName}-page`);
            if (currentPage) {
                currentPage.classList.remove('hidden');
                window.scrollTo(0, 0); // Scroll to top on page change
            }

            // Special rendering for specific pages
            if (pageName === 'product-detail' && data) {
                renderProductDetail(data);
            }
            if (pageName === 'catalog') {
                renderProducts(productContainer, products);
            }
            if (pageName === 'cart') {
                renderCart();
            }
        }

        // Renders all products on the catalog page
        function renderProducts(container, productList) {
            container.innerHTML = '';
            if (productList.length === 0) {
                container.innerHTML = `<p class="text-center text-gray-500 col-span-full">No products found matching your search.</p>`;
                return;
            }
            productList.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'bg-white rounded-xl shadow-lg overflow-hidden group hover:shadow-xl transition-shadow duration-300 cursor-pointer';
                productCard.innerHTML = `
                    <div class="relative w-full h-80 overflow-hidden">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover object-center transform group-hover:scale-105 transition-transform duration-300">
                    </div>
                    <div class="p-6">
                        <h3 class="text-lg font-semibold text-gray-900">${product.name}</h3>
                        <p class="text-gray-600 mt-1">$${product.price.toFixed(2)}</p>
                        <button class="add-to-cart-btn mt-4 w-full bg-gray-900 text-white py-2 rounded-full font-semibold hover:bg-gray-700 transition-colors duration-300">Add to Cart</button>
                    </div>
                `;
                productCard.querySelector('.add-to-cart-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    addToCart(product.id);
                });
                productCard.addEventListener('click', () => renderPage('product-detail', product));
                container.appendChild(productCard);
            });
        }

        // Renders a single product on the detail page
        function renderProductDetail(product) {
            document.getElementById('product-image').src = product.image;
            document.getElementById('product-image').alt = product.name;
            document.getElementById('product-name').textContent = product.name;
            document.getElementById('product-price').textContent = `$${product.price.toFixed(2)}`;
            document.getElementById('product-description').textContent = product.description;

            const addToCartBtn = document.getElementById('add-to-cart-detail');
            addToCartBtn.onclick = () => addToCart(product.id);
        }

        // Adds an item to the cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            updateCartCount();
            showMessage(`${product.name} added to cart!`);
        }
        
        // Updates the cart item count in the header
        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountEl.textContent = totalItems;
            if (totalItems > 0) {
                cartCountEl.classList.remove('hidden');
            } else {
                cartCountEl.classList.add('hidden');
            }
        }

        // Renders the cart page with items and total
        function renderCart() {
            cartItemsContainer.innerHTML = '';
            let total = 0;
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `<p class="text-center text-gray-500">Your cart is empty.</p>`;
                document.getElementById('cart-summary').classList.add('hidden');
            } else {
                document.getElementById('cart-summary').classList.remove('hidden');
                cart.forEach(item => {
                    total += item.price * item.quantity;
                    const cartItem = document.createElement('div');
                    cartItem.className = 'bg-gray-100 rounded-xl p-4 flex items-center space-x-4 shadow-sm';
                    cartItem.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg">
                        <div class="flex-grow">
                            <h3 class="font-semibold text-lg">${item.name}</h3>
                            <p class="text-gray-600">$${item.price.toFixed(2)} x ${item.quantity}</p>
                        </div>
                        <div class="font-bold text-gray-900">$${(item.price * item.quantity).toFixed(2)}</div>
                        <button class="remove-from-cart text-red-500 hover:text-red-700 transition-colors duration-200" data-id="${item.id}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                });
                cartTotalEl.textContent = `$${total.toFixed(2)}`;
            }
        }

        // Initial setup on load
        document.addEventListener('DOMContentLoaded', () => {
            renderPage('home');
            renderProducts(featuredProductsContainer, products.slice(0, 4));
            renderProducts(productContainer, products); // Ensure catalog is populated on load

            // Navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    if (mobileMenu.classList.contains('block')) {
                        mobileMenu.classList.add('hidden');
                        mobileMenu.classList.remove('block');
                    }
                    renderPage(page);
                });
            });

            // Mobile menu button
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                mobileMenu.classList.toggle('block');
            });

            // Cart button
            cartBtn.addEventListener('click', (e) => {
                e.preventDefault();
                renderPage('cart');
            });

            // Handle removal of items from cart
            cartItemsContainer.addEventListener('click', (e) => {
                if (e.target.closest('.remove-from-cart')) {
                    const id = parseInt(e.target.closest('.remove-from-cart').getAttribute('data-id'));
                    const itemIndex = cart.findIndex(item => item.id === id);
                    if (itemIndex > -1) {
                        cart.splice(itemIndex, 1);
                        renderCart();
                        updateCartCount();
                    }
                }
            });

            // Checkout button on cart page
            document.getElementById('checkout-btn').addEventListener('click', () => {
                renderPage('checkout');
            });

            // Handle form submission
            document.getElementById('checkout-form').addEventListener('submit', (e) => {
                e.preventDefault();
                showMessage('Thank you for your purchase!');
                cart = []; // Clear the local cart
                updateCartCount();
                setTimeout(() => {
                    renderPage('home');
                }, 1500);
            });

            // Handle search input
            productSearchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const filteredProducts = products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.description.toLowerCase().includes(searchTerm)
                );
                renderProducts(productContainer, filteredProducts);
            });
        });
    </script>
</body>
</html>
